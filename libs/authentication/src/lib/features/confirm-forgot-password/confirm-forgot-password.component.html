<lib-form>
	<ng-container id="form">
		<div class="row justify-content-between align-items-center">
			<h1 class="col-8 h1 text-center fs-2 my-4">New Password</h1>

			<a
				class="col-4"
				mat-icon-button
				aria-hidden="true"
				aria-label="home icon"
				[routerLink]="['']">
				<mat-icon>home</mat-icon>
			</a>
		</div>
	</ng-container>

	<ng-container id="below-form">
		<form
			(ngSubmit)="onSubmit()"
			class="row justify-content-center align-items-center gap-3 pb-4"
			[formGroup]="authForm">
			<mat-form-field appearance="fill">
				<mat-label>New Password</mat-label>
				<input
					matInput
					name="Password"
					label="New Password"
					[type]="hide ? 'password' : 'text'"
					aria-label="Password"
					[formControlName]="'password'"
					autocomplete="new-password" />

				<mat-icon matSuffix (click)="hide = !hide">{{
					hide ? 'visibility_off' : 'visibility'
				}}</mat-icon>

				<mat-hint>Password must be at least 8 characters. </mat-hint>

				<mat-error *ngIf="authForm?.['controls']?.['password']?.['invalid']">
					Password must be at least
					{{ authForm?.['controls']?.['password']?.['errors']?.['minlength']?.requiredLength }}
					characters.
				</mat-error>
			</mat-form-field>

			<mat-form-field appearance="fill">
				<mat-label>Confirm Password</mat-label>
				<input
					matInput
					name="Password"
					label="Confirm Password"
					aria-label="Confirm password"
					[type]="hide ? 'password' : 'text'"
					[formControlName]="'confirmPassword'"
					autocomplete="new-password" />
				<mat-hint>Password must be at least 8 characters. </mat-hint>

				<mat-error
					*ngIf="authForm?.['controls']?.['confirmPassword']?.['invalid']">
					Password must be at least
					{{ authForm?.['controls']?.['confirmPassword']?.['errors']?.['minlength']?.requiredLength ?? '8'  }}
					characters.
				</mat-error>
			</mat-form-field>

			<div class="row justify-content-center align-items-center">
				<button
					[disabled]="sharedService.executingLoader$ | async"
					class="p-2 mb-3 fs-5"
					mat-raised-button
					color="primary"
					type="submit">
					Confirm Password
				</button>
			</div>

			<mat-error
				class="text-center p-3"
				[ngClass]="authForm?.errors?.['passwordsDontMatch']?'visible':'invisible'">
				Passwords Do not match
			</mat-error>
		</form>
	</ng-container>
</lib-form>
